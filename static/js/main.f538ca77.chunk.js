/*! For license information please see main.f538ca77.chunk.js.LICENSE.txt */
(this.webpackJsonpdevelop=this.webpackJsonpdevelop||[]).push([[0],{27:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),u=a(4),l=a(14),i=a(1),s=a(3),p=a.n(s),m=a(9),f=a(12);a(33),a(35),a(44);f.initializeApp({apiKey:"AIzaSyBFFfpW5QNobVSOlb340rHkljGwqRkQ3ck",authDomain:"facebook-e2ff6.firebaseapp.com",databaseURL:"https://facebook-e2ff6.firebaseio.com",projectId:"facebook-e2ff6",storageBucket:"facebook-e2ff6.appspot.com",messagingSenderId:"840295614408",appId:"1:840295614408:web:dc54f8128d290944ac22fd"});var d=f.auth(),b=f.auth,h=f.firestore(),v=f.storage();var g=function(e){var t=e.userInfo,a=e.refreshedUser,c=Object(n.useState)(t.displayName),o=Object(u.a)(c,2),l=o[0],i=o[1],s=function(){var e=Object(m.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tweeter").where("creatorID","==",t.uid).orderBy("createdDate","desc").get();case 2:a=e.sent,console.log(a.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t.displayName!==l&&t.updateProfile(l),a();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:f},r.a.createElement("input",{type:"text",placeholder:"display Name",onChange:function(e){var t=e.target.value;i(t)},value:l}),r.a.createElement("input",{type:"submit",value:"update profile"})),r.a.createElement("button",{onClick:function(){d.signOut()}},"Log out"))};var E=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),i=l[0],s=l[1],f=Object(n.useState)(!1),h=Object(u.a)(f,2),v=h[0],g=h[1],E=Object(n.useState)(""),w=Object(u.a)(E,2),j=w[0],O=w[1],x=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&s(n)},y=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n=null,!v){e.next=9;break}return e.next=6,d.createUserWithEmailAndPassword(a,i);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,d.signInWithEmailAndPassword(a,i);case 11:n=e.sent;case 12:console.log(n),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),O(e.t0.message),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.name,n=null,"google"===a?n=new b.GoogleAuthProvider:"github"===a&&(n=new b.GithubAuthProvider),e.next=5,d.signInWithPopup(n);case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:y},r.a.createElement("input",{name:"email",type:"text",placeholder:"Email",required:!0,value:a,onChange:x}),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:i,onChange:x}),r.a.createElement("input",{type:"submit",value:v?"Create your account":"Log in"}),j),r.a.createElement("span",{onClick:function(){g((function(e){return!e}))}},v?"Log in":"Create your account"),r.a.createElement("div",null,r.a.createElement("button",{name:"google",onClick:k},"Log in with Google"),r.a.createElement("button",{name:"github",onClick:k},"Log in with Github")))},w=a(17);var j=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(e.props.twitter),i=Object(u.a)(l,2),s=i[0],f=i[1],d=function(){var t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("are you sure?")){t.next=6;break}return t.next=4,h.collection("tweeter").doc("".concat(e.props.id)).delete();case 4:return t.next=6,v.refFromURL(e.props.attachedURL).delete();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){return o((function(e){return!e}))},g=function(){var t=Object(m.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,h.collection("tweeter").doc("".concat(e.props.id)).update({twitter:s});case 3:b();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,c?r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:g},r.a.createElement("input",{type:"text",placeholder:"edit this",value:s,onChange:function(e){var t=e.target.value;f(t)},required:!0}),r.a.createElement("input",{type:"submit",value:"change tweet"})),r.a.createElement("button",{onClick:b},"return to tweet again")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,e.props.twitter)," ",e.props.attachedURL&&r.a.createElement("img",{src:e.props.attachedURL,style:{width:"50px",height:"50px"},alt:""}),e.whoWroteThis&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:d},"Delete this"),r.a.createElement("button",{onClick:b},"Addit this"))))},O=a(46);var x=function(e){var t=e.userId,a=Object(n.useState)(""),c=Object(u.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),f=s[0],d=s[1],b=Object(n.useState)(void 0),g=Object(u.a)(b,2),E=g[0],x=g[1];Object(n.useEffect)((function(){h.collection("tweeter").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id})}));d(t)}))}),[]);var y=function(){var e=Object(m.a)(p.a.mark((function e(a){var n,r,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.persist(),n="",!E){e.next=10;break}return r=v.ref().child("".concat(t,"/").concat(Object(O.a)())),e.next=6,r.putString(E,"data_url");case 6:return c=e.sent,e.next=9,c.ref.getDownloadURL();case 9:n=e.sent;case 10:return a.preventDefault(),u={twitter:o,createdDate:Date.now(),creatorID:t,attachedURL:n},e.next=14,h.collection("tweeter").add(Object(w.a)({},u));case 14:l(""),x(void 0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:y},r.a.createElement("input",{type:"text",placeholder:"emotion",maxLength:120,value:o,onChange:function(e){var t=e.target.value;l(t)}}),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(e){var t=e.currentTarget.result;x(t)}}}),r.a.createElement("input",{type:"submit",value:"tweet"}),E&&r.a.createElement("div",null,r.a.createElement("img",{src:E,style:{width:"100px",height:"100px"},alt:""}),r.a.createElement("button",{onClick:function(){x(void 0)}},"Clear Image"))),r.a.createElement("div",null,f.map((function(e){return r.a.createElement(j,{key:e.id,props:e,whoWroteThis:e.creatorID===t})}))))};var y=function(e){var t=e.userInfo;return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/profile"},t.displayName))))},k=function(e){var t=e.isLoggedIn,a=e.userInfo,n=e.refreshedUser;return r.a.createElement(l.a,null,t&&r.a.createElement(y,{userInfo:a}),r.a.createElement(i.d,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(x,{userId:a.uid})),r.a.createElement(i.b,{exact:!0,path:"/profile"},r.a.createElement(g,{userInfo:a,refreshedUser:n})),r.a.createElement(i.a,{from:"*",to:"/"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(E,null)),r.a.createElement(i.a,{from:"*",to:"/"}))))};var S=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),l=Object(u.a)(o,2),i=l[0],s=l[1];return Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){e&&s({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile({displayName:t})}}),c(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(k,{isLoggedIn:Boolean(i),userInfo:i,refreshedUser:function(){s(d.currentUser),console.log(d.currentUser)}}):"plaese wait",r.a.createElement("footer",null,"@copyright:brr ",(new Date).getFullYear()," twitter clone"))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f538ca77.chunk.js.map